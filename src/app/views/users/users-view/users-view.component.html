<div class="breadcrumb">
  <h1>Gestión usuarios</h1>
  <ul>
    <li><a href="">Dashboard</a></li>
    <li>Usuarios</li>
  </ul>
</div>
<div class="separator-breadcrumb border-top"></div>
<div class="row">
  <div class="col-sm-12 col-md-10 col-lg-12">
    <div class="d-flex align-items-center">
      <div class="col-md-6">
        <mat-form-field>
          <mat-label>Filter</mat-label>
          <input
            matInput
            (keyup)="applyFilter($event)"
            placeholder="Ex. Mia"
            #input
          />
        </mat-form-field>
      </div>
      <div class="col-md-6 text-right">
        <button
          (click)="addUser()"
          type="button"
          class="btn btn-outline-primary m-1"
        >
          Añadir usuario
        </button>
      </div>
    </div>
    <div class="mat-elevation-z8">
      <table mat-table [dataSource]="dataSource" matSort>
        <!-- Position Column -->
        <ng-container matColumnDef="position">
          <th mat-header-cell *matHeaderCellDef style="white-space: nowrap">
            N&#176;
          </th>
          <td mat-cell *matCellDef="let row; let i = index">
            {{ paginator.pageIndex * paginator.pageSize + i + 1 }}
          </td>
        </ng-container>

        <!-- RUT Column -->
        <ng-container matColumnDef="rut">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            style="white-space: nowrap"
          >
            RUT
          </th>
          <td mat-cell *matCellDef="let row" style="padding: 0px">
            {{ row.rut }}
          </td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="name">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            style="white-space: nowrap"
          >
            Nombre
          </th>
          <td mat-cell *matCellDef="let row" style="padding: 0px">
            {{ row.name + " " + row.lastName }}
          </td>
        </ng-container>

        <!-- Phone Column -->
        <ng-container matColumnDef="phone">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            style="white-space: nowrap"
          >
            Contacto
          </th>
          <td mat-cell *matCellDef="let row" style="padding: 0px">
            {{ row.phone }}
          </td>
        </ng-container>

        <!-- Email Column -->
        <ng-container matColumnDef="email">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            style="white-space: nowrap"
          >
            Email
          </th>
          <td mat-cell *matCellDef="let row" style="padding: 0px">
            {{ row.email }}
          </td>
        </ng-container>

        <!-- Functionalities Column -->
        <ng-container matColumnDef="functionalities">
          <th mat-header-cell *matHeaderCellDef style="white-space: nowrap">
            Funcionalidades
          </th>
          <td mat-cell *matCellDef="let row" style="padding: 0px">
            <div class="action-buttons">
              <button
                class="btn btn-sm rounded-circle btn-icon btn-outline-info"
              >
                <i class="icon i-Eye"></i>
              </button>
            </div>
          </td>
        </ng-container>

        <!-- Actions Column -->
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef style="white-space: nowrap">
            Acciones
          </th>
          <td mat-cell *matCellDef="let row">
            <div class="action-buttons">
              <button
                class="btn btn-sm rounded-circle btn-icon btn-outline-info"
              >
                <i class="icon i-Pen-4"></i>
              </button>
              <button
                class="btn btn-sm rounded-circle btn-icon btn-outline-warning"
              >
                <i class="icon i-Add-Cart"></i>
              </button>
            </div>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr
          mat-row
          *matRowDef="let row; columns: displayedColumns; let i = index"
        ></tr>

        <!-- Row shown when there is no matching data. -->
        <tr class="mat-row" *matNoDataRow>
          <td *ngIf="dataSource" class="mat-cell" colspan="4">
            No existen coincidencias para "{{ input.value }}"
          </td>
        </tr>
      </table>
      <mat-paginator
        #paginator
        [pageSizeOptions]="[5, 10, 25, 100]"
        aria-label="Seleccionar página de usuarios"
        showFirstLastButtons
      ></mat-paginator>
    </div>
  </div>
</div>
